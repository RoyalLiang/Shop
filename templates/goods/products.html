{% extends 'base.html' %}
{% load i18n %}
{% load staticfiles %}
{% block title %}{{ index_info.title }}{% endblock %}
{% block description %}{{ index_info.description }}{% endblock %}
{% block keywords %}{{ index_info.keywords }}{% endblock %}
{% block css %}
    <link rel="stylesheet" href="{% static '/CSS/style.css' %}">
{% endblock %}
{% block body %}
    <body class="single is-preload">
{% endblock %}
{% block content-index %}
    <div class="sidebar">
        <div class="container">
            <ul>
                <li>
                    <a href="#" style="width: 120px">{% trans 'Series' %}</a>
                </li>
                {% if sid %}
                    <li>
                        <a href="{% url 'goods:ProductsList' %}">{% trans 'All' %}</a>
                    </li>
                    {% for s in series %}
                        {% if sid == s.id %}
                            <li class="active">
                                <a href="{% url 'goods:ProductsList' %}?sid={{ s.id }}">{{ s.name }}</a>
                            </li>
                        {% else %}
                            <li>
                                <a href="{% url 'goods:ProductsList' %}?sid={{ s.id }}">{{ s.name }}</a>
                            </li>
                        {% endif %}
                    {% endfor %}
                {% else %}
                    <li class="active">
                        <a href="{% url 'goods:ProductsList' %}">{% trans 'All' %}</a>
                    </li>
                    {% for s in series %}
                        <li>
                            <a href="{% url 'goods:ProductsList' %}?sid={{ s.id }}">{{ s.name }}</a>
                        </li>
                    {% endfor %}
                {% endif %}
            </ul>
        </div>
        <div class="container">
            <ul>
                <li>
                    <a href="#" style="width: 120px">{% trans 'Category' %}</a>
                </li>
                {% if cid %}
                    <li>
                        <a href="{% url 'goods:ProductsList' %}?sid={{ sid }}">{% trans 'All' %}</a>
                    </li>
                    {% for c in categorys %}
                        {% if cid == c.id %}
                            <li class="active">
                                <a href="{% url 'goods:ProductsList' %}?sid={{ sid }}&cid={{ c.id }}">{{ c.name }}</a>
                            </li>
                        {% else %}
                            <li>
                                <a href="{% url 'goods:ProductsList' %}?sid={{ sid }}&cid={{ c.id }}">{{ c.name }}</a>
                            </li>
                        {% endif %}
                    {% endfor %}
                {% else %}
                    <li class="active">
                        <a href="{% url 'goods:ProductsList' %}?sid={{ sid }}">{% trans 'All' %}</a>
                    </li>
                    {% for c in categorys %}
                        <li>
                            <a href="{% url 'goods:ProductsList' %}?sid={{ sid }}&cid={{ c.id }}">{{ c.name }}</a>
                        </li>
                    {% endfor %}
                {% endif %}
            </ul>
        </div>
    </div>
    <div class="wrap wrap-product">
    <div class="container">
        <div class="title-in">
            <h2>{% trans 'Products' %}</h2>
            <p>{{ page_info.product_info }}</p>
        </div>

        <div class="row">
            {% if not goods_list %}
                <h2>{% trans 'No Products' %}</h2>
            {% endif %}
            {% for goods in goods_list.object_list %}
                <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                    <div class="item" style="background-color: rgb(246, 244, 236);">
                        <div class="p-title">
                            <h3>{{ goods.goods_sn }}</h3>
                            <p>{{ goods.name }}</p>
                        </div>
                        <div class="flexslider">
                            <div id="{{ goods.goods_sn }}" class="carousel slide" data-ride="carousel">
                                <!-- Indicators -->
                                <ol class="carousel-indicators">
                                    {% for image in goods.goodsimage %}
                                        {% if image.index == 0 %}
                                            <li data-target="#{{ goods.goods_sn }}"
                                                data-slide-to="{{ image.index }}" class="active"></li>
                                        {% else %}
                                            <li data-target="#{{ goods.goods_sn }}"
                                                data-slide-to="{{ image.index }}"></li>
                                        {% endif %}
                                    {% endfor %}
                                </ol>
                                <!-- Wrapper for slides -->
                                <div class="carousel-inner" role="listbox">
                                    {% for image in goods.goodsimage %}
                                        {% if image.index == 0 %}
                                            <div class="item active">
                                                <a href="{% url 'goods:goods-detail' goods.id %}">
                                                    <img src="{{ MEDIA_URL }}{{ image.image }}" alt="" width="100%">
                                                </a>
                                            </div>
                                        {% else %}
                                            <div class="item">
                                                <a href="{% url 'goods:goods-detail' goods.id %}">
                                                    <img src="{{ MEDIA_URL }}{{ image.image }}" alt="" width="100%">
                                                </a>
                                            </div>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        <ul class="pager">
            {% if goods_list.has_previous %}
                <li><a href="?{{ goods_list.previous_page_number.querystring }}">&laquo;{% trans 'PREVIOUS PAGE' %}</a></li>
            {% else %}
                <li><a class="disabled"><span>&laquo;{% trans 'PREVIOUS PAGE' %}</span></a></li>
            {% endif %}
            {% if goods_list.has_next %}
                <li><a href="?{{ goods_list.next_page_number.querystring }}">{% trans 'NEXT PAGE' %}&raquo;</a></li>
            {% else %}
                <li><a class="disabled"><span>{% trans 'NEXT PAGE' %}&raquo;</span></a></li>
            {% endif %}
        </ul>
    </div>
{% endblock %}
{% block left-content %}
{% endblock %}
{% block js %}
    <script src="{% static 'JS/main_.js' %}"></script>
{% endblock %}