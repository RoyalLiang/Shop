{% extends 'base.html' %}
{% load staticfiles %}
{% block title %}CONTACT US{% endblock %}
{% block content-index %}
    <div id="main">
        <!-- Post -->
        <article class="post">
            <header>
                <div class="title">
                    <section>
                        <h2>Company Info</h2><br><br>
                    </section>

                    <span style="font-size: 20px;color: #3c3c3c">Address:&nbsp;&nbsp;{{ com_message.addr }}</span><br>
                    <span style="font-size: 20px;color: #3c3c3c">Tel:&nbsp;&nbsp;{{ com_message.tel }}</span><br>
                    <span style="font-size: 20px;color: #3c3c3c">Email:&nbsp;&nbsp;{{ com_message.email }}</span><br>
                    <span style="font-size: 20px;color: #3c3c3c">Website:&nbsp;&nbsp;<a href="https://www.baidu.com"
                                                                                        style="text-decoration:none;">{{ com_message.web }}</a></span>
                </div>
                <div class="meta">
                    <h3>Contact</h3>
                    <time class="published" datetime="2015-11-01"><h4 style="color: orange">{{ com_message.name }}</h4>
                    </time>
                    {#                    <a href="{{ com_message.web }}" class="author"><span class="name"></span></a>#}
                    <img src="{% static 'images/com-logo.png' %}" alt=""/>
                </div>
            </header>
            {#            <span class="image featured"><img src="{% static 'images/pic01.jpg' %}" alt="" /></span>#}
            {#            <p>{{ com_message.detail| safe }}</p>#}
            <div class="note">
                <span style="font-size: 30px; font-weight: bold;">Leave us a message</span><br><br><br>
{#            <form class="form-inline">#}
{#                <div class="form-group">#}
{#                    <label for="inputName3" class="sr-only">Name</label>#}
{#                    <div class="col-sm-10" style="margin-left: 30%;">#}
{#                        <input type="text" class="form-control" id="inputName3" placeholder="Name*" style="width: 300px;">#}
{#                    </div>#}
{#                </div>#}
{#                <div class="form-group">#}
{#                    <label for="inputPhone3" class="sr-only">Phone</label>#}
{#                    <div class="col-sm-10"  style="margin-left: 45%;">#}
{#                        <input type="text" class="form-control" id="inputPhone3" placeholder="Tel" style="width: 300px;">#}
{#                    </div>#}
{#                </div>#}
{#                <br>#}
{#                <br>#}
{#                <div class="form-group">#}
{#                    <label for="inputEmail3" class="sr-only">Email</label>#}
{#                    <div class="col-sm-10"  style="margin-left: 30%;">#}
{#                        <input type="email" class="form-control" id="inputEmail3" placeholder="Email*" style="width: 300px;">#}
{#                    </div>#}
{#                </div>#}
{#                <div class="form-group">#}
{#                    <label for="inputCountry3" class="sr-only">Country</label>#}
{#                    <div class="col-sm-10"  style="margin-left: 45%;">#}
{#                        <input type="text" class="form-control" id="inputCountry3" placeholder="Country*" style="width: 300px;">#}
{#                    </div>#}
{#                </div>#}
{#                <br>#}
{#                <br>#}
{#                <div class="form-group" style="margin-left: 30%;">#}
{#                    <textarea class="form-control" rows="5" placeholder="Messages*" style="width: 640px;"></textarea><br>#}
{#                    <span style="color: gray">* is Required field.</span>#}
{#                </div>#}
{#                <br>#}
{#                <br>#}
{#                <div class="form-group" style="margin-left: 45%;">#}
{#                    <div class="col-sm-offset-2 col-sm-10">#}
{#                        <button type="submit" class="btn btn-default">Submit</button>#}
{#                    </div>#}
{#                </div>#}
{#            </form>#}
                <form class="row feedback-form" onsubmit="return false;" method="post" id="jsForm">
                    {% csrf_token %}

                    <div class="col-xs-12 col-md-6 text">
                        <input type="text" placeholder="Name*" name="name" id="name"
                               style="background-color: rgb(246, 244, 236);">
                    </div>
                    <div class="col-xs-12 col-md-6 text">
                        <input type="text" placeholder="Phone" name="phone" id="phone"
                               style="background-color: rgb(246, 244, 236);">
                    </div>
                    <br><br><br>
                    <div class="col-xs-12 col-md-6 text">
                        <input type="text" placeholder="Email*" name="email" id="email"
                               style="background-color: rgb(246, 244, 236);">
                    </div>
                    <div class="col-xs-12 col-md-6 text">
                        <input type="text" placeholder="Country*" name="country" id="country"
                               style="background-color: rgb(246, 244, 236);">
                    </div>
                    <br><br><br>
                    <div class="col-xs-12">
                        <textarea name="message" rows="6" placeholder="Messagesï¼Š" id="message"
                                  style="background-color: rgb(246, 244, 236);"></textarea>
                    </div>
                    <p>* Required Field.</p>
                    <p class="errors" id="jsCompanyTips"></p>
                    <br><br><br>
                    <div class="col-xs-12">
                        <button class="send submit" id="jsBtn"><span>SUBMIT</span></button>
                    </div>

                </form>
            </div>
            <footer>
                {#                <ul class="stats">#}
                {#                    <li><a href="#">General</a></li>#}
                {#                    <li><a href="#" class="icon fa-heart">28</a></li>#}
                {#                    <li><a href="#" class="icon fa-comment">128</a></li>#}
                {#                </ul>#}
            </footer>
        </article>
    </div>
{% endblock %}
{% block left-content %}{% endblock %}
{% block js %}
    <script src="{% static 'JS/main_.js' %}"></script>
    <script>
        $(function(){
            $(document).ready(function() {
                $('#jsBtn').on('click', function () {
                    let name = $('#name').val();
                    let email = $('#email').val();
                    let country = $('#country').val();
                    let message = $('#message').val();
                    if(name === '' || email ==='' || country === '' || message === ''){
                        alert('* Field is Required');
                        return ;
                    }
                    {#if(email === ''){#}
                    {#    alert('Email is Null');#}
                    {#    return ;#}
                    {#if(country === ''){#}
                    {#    alert('Country is Null');#}
                    {#    return ;#}
                    {#if(message === ''){#}
                    {#    alert('Message is Null');#}
                    {#    return ;#}
                    $.ajax({
                        cache: false,
                        type: "POST",
                        url: "{% url 'other:contact' %}",
                        data: $('#jsForm').serialize(),
                        async: true,
                        success: function (data) {
                            if (data.status === 'success') {
                                $('#jsForm')[0].reset();
                                alert("We have received your message and will contact you as soon as possible.")
                            } else if (data.status === 'fail') {
                                $('#jsCompanyTips').html(data.msg)
                            }
                        },
                    });
                });
            });
        })
    </script>
{% endblock %}
